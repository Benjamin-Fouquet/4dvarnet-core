# todo:
# instantiate datamodule with params
# add dimrange etc....
#
#slice_win=slice_win,
#dim_range=dim_range,
#strides=strides,
#train_slices=config.time_period['train_slices'],
#test_slices=config.time_period['test_slices'],
#val_slices=config.time_period['val_slices'],
#resize_factor=config.params['resize_factor'],
#**config.params['files_cfg']
#
params:
  ckpt_name: 'modelCalSLAInterpGF-Exp3-{epoch:02d}-{val_loss:.2f}'
lit_mod_cls: calibration.lit_cal_model.LitCalModel
datamodule:
  _target_: calibration.dataset.FourDVarNetCalDataModule
  slice_win:
    lat: 200
    lon: 200
    time: 5
  strides:
    lat: 200
    lon: 200
    time: 1
  dim_range:
    lat:
      _target_: builtins.slice
      _args_: [33., 43.]
    lon:
      _target_: builtins.slice
      _args_: [-65., -55.]
  train_slices: 
    - _target_: builtins.slice
      _args_: ['2012-10-01', '2012-11-20']
    - _target_: builtins.slice
      _args_: ['2013-02-07', '2013-09-30']
  test_slices: 
    - _target_: builtins.slice
      _args_: ['2013-01-03', '2013-01-27']
  val_slices: 
    - _target_: builtins.slice
      _args_: ['2012-11-30', '2012-12-24']
  oi_path: ${params.files_cfg.oi_path}
  oi_var: ${params.files_cfg.oi_var}
  obs_target_path: ${params.files_cfg.obs_target_path}
  obs_target_var: ${params.files_cfg.obs_target_var}
  obs_mask_path: ${params.files_cfg.obs_mask_path}
  obs_mask_var: ${params.files_cfg.obs_mask_var}
  gt_path: ${params.files_cfg.gt_path}
  gt_var: ${params.files_cfg.gt_var}
entrypoint:
  _target_: main.FourDVarNetRunner.test


defaults:
  - legacy: fourdvarnet_map
  - _self_


